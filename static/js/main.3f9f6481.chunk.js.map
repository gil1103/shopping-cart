{"version":3,"sources":["components/Cart/CartItem.module.css","components/Shop/ProductItem.module.css","components/UI/Notification.module.css","components/Cart/CartButton.module.css","components/UI/Card.module.css","components/Cart/Cart.module.css","components/Layout/MainHeader.module.css","components/Shop/Products.module.css","store/cartUiSlice.js","store/cartContentSlice.js","store/store.js","components/UI/Card.js","components/Cart/CartItem.js","components/Cart/Cart.js","components/Cart/CartButton.js","components/Layout/MainHeader.js","components/Layout/Layout.js","components/Shop/ProductItem.js","components/Shop/Products.js","components/UI/Notification.js","App.js","store/actions/cartActions.js","index.js"],"names":["module","exports","cartUiSlice","createSlice","name","initialState","isCartShown","notification","reducers","toggleCart","state","showNotification","action","status","payload","title","message","cartUiActions","actions","cartContentSlice","items","totalQuantity","changed","replaceCart","addItemToCart","newItem","existingItem","find","item","id","quantity","totalPrice","price","push","removeItemFromCart","removedItemId","filter","cartContentActions","store","configureStore","reducer","cart","cartSlice","content","Card","props","className","classes","card","children","CartItem","total","dispatch","useDispatch","toFixed","itemprice","details","onClick","Cart","cartItems","useSelector","map","CartButton","button","badge","MainHeader","header","Layout","ProductItem","description","imageUrl","image_container","src","alt","Products","products","Notification","specialClass","error","success","cssClasses","isInitial","App","showCart","cartData","useEffect","a","fetchData","fetch","response","ok","Error","json","data","sendRequest","method","body","JSON","stringify","sendCardData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3f9f6481.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CartItem_item__2N8Iw\",\"details\":\"CartItem_details__2M_sx\",\"quantity\":\"CartItem_quantity__1zj_Y\",\"price\":\"CartItem_price__aN_OV\",\"itemprice\":\"CartItem_itemprice__3910Z\",\"actions\":\"CartItem_actions__2d0W-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProductItem_item__UsiAR\",\"price\":\"ProductItem_price__1KlUc\",\"image_container\":\"ProductItem_image_container__SVxj5\",\"actions\":\"ProductItem_actions__3yNVp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__2UxOP\",\"error\":\"Notification_error__1EUcu\",\"success\":\"Notification_success__18NY1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CartButton_button__1mwQ7\",\"badge\":\"CartButton_badge__1oQfu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1teMp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__3pU7h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__2ucZ1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"products\":\"Products_products__1vHV0\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialCartState = { \r\n\tisCartShown: true, \r\n\tnotification: null \r\n};\r\n\r\nconst cartUiSlice = createSlice({\r\n\tname: 'cart',\r\n\tinitialState: initialCartState,\r\n\treducers: {\r\n\t\ttoggleCart(state) {\r\n\t\t\tstate.isCartShown = !state.isCartShown;\r\n\t\t},\r\n\t\tshowNotification(state, action) {\r\n\t\t\tstate.notification = {\r\n\t\t\t\tstatus: action.payload.status,\r\n\t\t\t\ttitle: action.payload.title,\r\n\t\t\t\tmessage: action.payload.message\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport const cartUiActions = cartUiSlice.actions;\r\n\r\nexport default cartUiSlice;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst cartContentSlice = createSlice({\r\n\tname: 'cartContent',\r\n\tinitialState: {\r\n\t\titems: [],\r\n\t\ttotalQuantity: 0,\r\n\t\tchanged: false\r\n\t},\r\n\treducers: {\r\n\t\treplaceCart(state, action) {\r\n\t\t\tstate.totalQuantity = action.payload.totalQuantity;\r\n\t\t\tstate.items = action.payload.items;\r\n\t\t},\r\n\t\taddItemToCart(state, action) {\r\n\t\t\tconst newItem = action.payload;\r\n\t\t\tconst existingItem = state.items.find((item) => item.id === newItem.id);\r\n\t\t\tstate.totalQuantity++;\r\n\t\t\tstate.changed = true;\r\n\t\t\tif (!existingItem) {\r\n\t\t\t\tstate.items.push({\r\n\t\t\t\t\t// allowed only with toolkit\r\n\t\t\t\t\tid: newItem.id,\r\n\t\t\t\t\tprice: newItem.price,\r\n\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\ttotalPrice: newItem.price, // as quantity=1\r\n\t\t\t\t\ttitle: newItem.title\r\n\t\t\t\t});\r\n\t\t\t\t// return {...state, items: [...state.items, newItem]} // w/o toolkit\r\n\t\t\t} else {\r\n\t\t\t\texistingItem.quantity++;\r\n\t\t\t\texistingItem.totalPrice += newItem.price;\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveItemFromCart(state, action) {\r\n\t\t\tif(state.totalQuantity===0) return\r\n\t\t\tconst removedItemId = action.payload;\r\n\t\t\tconst existingItem = state.items.find(\r\n\t\t\t\t(item) => item.id === removedItemId\r\n\t\t\t);\r\n\t\t\tstate.totalQuantity--;\r\n\t\t\tstate.changed = true;\r\n\r\n\t\t\tif (existingItem.quantity > 1) {\r\n\t\t\t\texistingItem.quantity--;\r\n\t\t\t\texistingItem.totalPrice -= existingItem.price;\r\n\t\t\t} else {\r\n\t\t\t\tstate.items = state.items.filter((item) => item.id !== removedItemId);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport const cartContentActions = cartContentSlice.actions;\r\nexport default cartContentSlice;\r\n","import {configureStore} from \"@reduxjs/toolkit\";\r\nimport cartSlice from \"./cartUiSlice\";\r\nimport cartContentSlice from './cartContentSlice';\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    cart: cartSlice.reducer,\r\n    content: cartContentSlice.reducer\r\n  }\r\n})\r\n\r\nexport default store","import classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <section\n      className={`${classes.card} ${props.className ? props.className : ''}`}\n    >\n      {props.children}\n    </section>\n  );\n};\n\nexport default Card;\n","import { useDispatch } from \"react-redux\";\nimport { cartContentActions } from \"./../../store/cartContentSlice\";\nimport classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n  const { title, quantity, total, price, id } = props.item;\n\tconst dispatch = useDispatch();\n\n  const addItemHandler = () => {\n    dispatch(cartContentActions.addItemToCart(props.item))\n  }\n  \n  const removeItemHandler = () => {\n    dispatch(cartContentActions.removeItemFromCart(id))\n  }\n\n  return (\n    <li className={classes.item}>\n      <header>\n        <h3>{title}</h3>\n        <div className={classes.price}>\n          ${total.toFixed(2)}{' '}\n          <span className={classes.itemprice}>(${price.toFixed(2)}/item)</span>\n        </div>\n      </header>\n      <div className={classes.details}>\n        <div className={classes.quantity}>\n          x <span>{quantity}</span>\n        </div>\n        <div className={classes.actions}>\n          <button onClick={removeItemHandler}>-</button>\n          <button onClick={addItemHandler}>+</button>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import Card from '../UI/Card';\nimport classes from './Cart.module.css';\nimport CartItem from './CartItem';\nimport { useSelector } from 'react-redux';\n\nconst Cart = (props) => {\n\tconst cartItems = useSelector((state) => state.content.items);\n\treturn (\n\t\t<Card className={classes.cart}>\n\t\t\t<h2>Your Shopping Cart</h2>\n\t\t\t{cartItems.map((item) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ul key={item.id}>\n\t\t\t\t\t\t<CartItem\t\t\t\n\t\t\t\t\t\t\titem={{\n\t\t\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\t\t\tquantity: item.quantity,\n\t\t\t\t\t\t\t\ttotal: item.quantity * item.price,\n\t\t\t\t\t\t\t\tprice: item.price\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ul>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Card>\n\t);\n};\n\nexport default Cart;\n","import classes from './CartButton.module.css';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cartUiActions } from '../../store/cartUiSlice';\n\nconst CartButton = (props) => {\n  const dispatch = useDispatch()\n  const totalQuantity = useSelector((state) => state.content.totalQuantity);\n\n  const toggleCartHandler = () => {\n    dispatch(cartUiActions.toggleCart())\n  }\n\n  return (\n\t\t<button className={classes.button} onClick={toggleCartHandler}>\n\t\t\t<span>My Cart</span>\n\t\t\t<span className={classes.badge}>{totalQuantity}</span>\n\t\t</button>\n\t);\n};\n\nexport default CartButton;\n","import CartButton from '../Cart/CartButton';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n  return (\n\t\t<header className={classes.header}>\n\t\t\t<h1>Products</h1>\n\t\t\t<nav>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<CartButton />\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</header>\n\t);\n};\n\nexport default MainHeader;\n","import { Fragment } from 'react';\nimport MainHeader from './MainHeader';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainHeader />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","import { useDispatch } from 'react-redux';\nimport Card from '../UI/Card';\nimport classes from './ProductItem.module.css';\nimport { cartContentActions } from './../../store/cartContentSlice';\n\nconst ProductItem = (props) => {\n\tconst { title, price, description, id, imageUrl } = props;\n\tconst dispatch = useDispatch();\n\tconst onAddItemToCart = () => {\n\t\tdispatch(\n\t\t\tcartContentActions.addItemToCart({\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\tprice,\n\t\t\t\tdescription,\n\t\t\t\timageUrl\n\t\t\t})\n\t\t);\n\t};\n\n\treturn (\n\t\t<li className={classes.item}>\n\t\t\t<Card>\n\t\t\t\t<header>\n\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t<div className={classes.price}>${price.toFixed(2)}</div>\n\t\t\t\t</header>\n\t\t\t\t<div className={classes.image_container}>\n\t\t\t\t\t<img src={imageUrl} alt=\"\" />\n\t\t\t\t\t<p>{description}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t<button onClick={onAddItemToCart}>Add to Cart</button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</li>\n\t);\n};\n\nexport default ProductItem;\n","import ProductItem from './ProductItem';\nimport classes from './Products.module.css';\n\nconst items = [\n\t{\n\t\tid: 'p1',\n\t\ttitle: 'LED Television',\n\t\tprice: 700,\n\t\tdescription:\n\t\t\t'Get more room for viewing your screen with wider angle display',\n\t\timageUrl:\n\t\t\t'https://cdn.shopify.com/s/files/1/2660/5202/products/shopify-image_544fc979-d65d-4847-9982-60177ff61db2_1400x.jpg?v=1611364553'\n\t},\n\t{\n\t\tid: 'p2',\n\t\ttitle: 'De Rosa TT Disc',\n\t\tprice: 20000,\n\t\tdescription: 'De Rosa TT03 Disk Time Trial Bicycle',\n\t\timageUrl:\n\t\t\t'https://static.wixstatic.com/media/50fef3_06b0add1a89c4ca6b4412aabfe48d3f0~mv2.png/v1/fill/w_843,h_562,al_c,usm_0.66_1.00_0.01/50fef3_06b0add1a89c4ca6b4412aabfe48d3f0~mv2.png'\n\t}\n];\n\nconst Products = (props) => {\n\treturn (\n\t\t<section className={classes.products}>\n\t\t\t<h2>Buy your favorite products</h2>\n\t\t\t{items.map((item) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ul key={item.id}>\n\t\t\t\t\t\t<ProductItem\n\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\tprice={item.price}\n\t\t\t\t\t\t\tdescription={item.description}\n\t\t\t\t\t\t\timageUrl={item.imageUrl}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ul>\n\t\t\t\t);\n\t\t\t})}\n\t\t</section>\n\t);\n};\n\nexport default Products;\n","import classes from './Notification.module.css'\r\n\r\nconst Notification = (props) => {\r\n  let specialClass = ''\r\n\r\n  if (props.status === 'error'){\r\n    specialClass = classes.error\r\n  }\r\n\r\n  if (props.status === 'success') {\r\n\t\tspecialClass = classes.success;\r\n\t}\r\n\r\n  const cssClasses = `${classes.notification} ${specialClass}`;\r\n\r\n\t\treturn (\r\n\t\t\t<section className={cssClasses}>\r\n\t\t\t\t<h2>{props.title}</h2>\r\n\t\t\t\t<p>{props.message}</p>\r\n\t\t\t</section>\r\n\t\t);\r\n\r\n};\r\n\r\nexport default Notification;","import Cart from './components/Cart/Cart';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Fragment, useEffect } from 'react';\nimport Notification from './components/UI/Notification';\nimport { sendCardData } from './store/actions/cartActions';\nimport { fetchCardData } from './store/actions/cartActions';\n\nlet isInitial = true;\n\nfunction App() {\n\tconst showCart = useSelector((state) => state.cart.isCartShown);\n\tconst cartData = useSelector((state) => state.content);\n\tconst notification = useSelector((state) => state.cart.notification);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(fetchCardData());\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tif (isInitial) {\n\t\t\tisInitial = false;\n\t\t\treturn;\n\t\t}\n\t\tif (cartData.changed) {\n\t\t\tdispatch(sendCardData(cartData));\n\t\t}\n\t}, [cartData, dispatch]);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{notification && (\n\t\t\t\t<Notification\n\t\t\t\t\tstatus={notification.status}\n\t\t\t\t\ttitle={notification.title}\n\t\t\t\t\tmessage={notification.message}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Layout>\n\t\t\t\t{showCart && <Cart />}\n\t\t\t\t<Products />\n\t\t\t</Layout>\n\t\t</Fragment>\n\t);\n}\n\nexport default App;\n\n// if not using Thunk\n// useEffect(() => {\n// \tconst sendCartData = async () => {\n// \t\tdispatch(\n// \t\t\tcartUiActions.showNotification({\n// \t\t\t\tstatus: 'pending',\n// \t\t\t\ttitle: 'Sending...',\n// \t\t\t\tmessage: 'Sending Cart data'\n// \t\t\t})\n// \t\t);\n// \t\tconst response = await fetch(\n// \t\t\t'https://food-order-app-7cec7-default-rtdb.firebaseio.com/cart.json',\n// \t\t\t{\n// \t\t\t\tmethod: 'PUT', // put req replace the existing data\n// \t\t\t\tbody: JSON.stringify(cart)\n// \t\t\t}\n// \t\t);\n\n// \t\tif (!response.ok) {\n// \t\t\tthrow new Error('sending cart data failed');\n// \t\t}\n\n// \t\tdispatch(\n// \t\t\tcartUiActions.showNotification({\n// \t\t\t\tstatus: 'success',\n// \t\t\t\ttitle: 'Success',\n// \t\t\t\tmessage: 'Sent cart data successfully!'\n// \t\t\t})\n// \t\t);\n// \t};\n\n// \tif (isInitial) {\n// \t\tisInitial = false;\n// \t\treturn;\n// \t}\n\n// \tsendCartData().catch((error) => {\n// \t\tconsole.log(error);\n// \t\tdispatch(\n// \t\t\tcartUiActions.showNotification({\n// \t\t\t\tstatus: 'error',\n// \t\t\t\ttitle: 'Error',\n// \t\t\t\tmessage: 'sending cart data failed'\n// \t\t\t})\n// \t\t);\n// \t});\n// }, [cart, dispatch]);\n","import { cartUiActions } from '../cartUiSlice';\r\nimport { cartContentActions } from './../cartContentSlice';\r\n\r\nexport const fetchCardData = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t'https://shopping-cart-8d0b2-default-rtdb.firebaseio.com/cart.json'\r\n\t\t\t);\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error('fetching cart data failed');\r\n\t\t\t}\r\n\t\t\tconst data = await response.json();\r\n\t\t\treturn data;\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst cartData = await fetchData();\r\n\t\t\tdispatch(\r\n\t\t\t\tcartContentActions.replaceCart({\r\n\t\t\t\t\titems: cartData.items || [],\r\n\t\t\t\t\ttotalQuantity: cartData.totalQuantity\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(\r\n\t\t\t\tcartUiActions.showNotification({\r\n\t\t\t\t\tstatus: 'error',\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\tmessage: 'fetching cart data failed'\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const sendCardData = (cartData) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(\r\n\t\t\tcartUiActions.showNotification({\r\n\t\t\t\tstatus: 'pending',\r\n\t\t\t\ttitle: 'Sending...',\r\n\t\t\t\tmessage: 'Sending Cart data'\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tconst sendRequest = async () => {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t'https://shopping-cart-8d0b2-default-rtdb.firebaseio.com/cart.json',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'PUT', // put req replace the existing data\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t// w/p 'changed' property\r\n\t\t\t\t\t\titems: cartData.items,\r\n\t\t\t\t\t\ttotalQuantity: cartData.totalQuantity\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// body: JSON.stringify(cartData) // sending all the object as is\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error('sending cart data failed');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tawait sendRequest();\r\n\t\t\tdispatch(\r\n\t\t\t\tcartUiActions.showNotification({\r\n\t\t\t\t\tstatus: 'success',\r\n\t\t\t\t\ttitle: 'Success',\r\n\t\t\t\t\tmessage: 'Sent cart data successfully!'\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(\r\n\t\t\t\tcartUiActions.showNotification({\r\n\t\t\t\t\tstatus: 'error',\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\tmessage: 'sending cart data failed'\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n};\r\n","import ReactDOM from 'react-dom';\nimport store from './store/store'\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}